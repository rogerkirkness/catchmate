<template name="customerMaster">
  <h2>Customer Master</h2>
  <div class="col-sm-6">
    {{#autoForm collection="Customers" id="addCustomer" type="method" meteormethod="insertCustomer"}}
    <fieldset>
      <legend>Add Customer</legend>
      {{> afQuickField name="customer_code"}}
      {{> afQuickField name="customer_name"}}
      {{> afQuickField name="customer_street1"}}
      {{> afQuickField name="customer_street2"}}
      {{> afQuickField name="customer_city"}}
      {{> afQuickField name="customer_province"}}
      {{> afQuickField name="customer_country"}}
      {{> afQuickField name="customer_postal"}}
    </fieldset>
    <button type="submit" class="btn btn-default btn-block">Add Customer</button>
    {{/autoForm}}
  </div>
  <div class="col-sm-6">
    {{#autoForm collection="Customers" id="editCustomer" type="method-update" meteormethod="updateCustomer" doc=customerActive}}
    <fieldset>
      <legend>Edit Customer</legend>
      {{> afQuickField name="customer_code"}}
      {{> afQuickField name="customer_name"}}
      {{> afQuickField name="customer_street1"}}
      {{> afQuickField name="customer_street2"}}
      {{> afQuickField name="customer_city"}}
      {{> afQuickField name="customer_province"}}
      {{> afQuickField name="customer_country"}}
      {{> afQuickField name="customer_postal"}}
    </fieldset>
    <button type="submit" class="btn btn-default btn-block">Save Changes</button>
    {{/autoForm}}
  </div>
  <div class="col-sm-12 pad-top">
    <table class="table table-condensed table-striped table-bordered table-white">
      <tbody>
        <tr>
          <td><b>Code</b></td>
          <td><b>Name</b></td>
          <td><b>Address 1</b></td>
          <td><b>Address 2</b></td>
          <td><b>City</b></td>
          <td><b>Province</b></td>
          <td><b>Country</b></td>
          <td><b>Postal Code</b></td>
          <td><b>Edit</b></td>
        </tr>
        {{#each customers}}
        <tr>
          <td>{{customer_code}}</td>
          <td>{{customer_name}}</td>
          <td>{{customer_street1}}</td>
          <td>{{customer_street2}}</td>
          <td>{{customer_city}}</td>
          <td>{{customer_province}}</td>
          <td>{{customer_country}}</td>
          <td>{{customer_postal}}</td>
          <td>{{> edit}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>